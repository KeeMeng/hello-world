<!DOCTYPE html>
<html>
	<body style="text-align: center; font-family: Futura; font-weight: bold;">
		<script type="text/javascript">
			var char_array = ["T", "G", "M", "k", "h", "da", "_", "d", "c", "m", "u", "n", "p"];
			var power_array = [12,9,6,3,2,1,0,-1,-2,-3,-6,-9,-12]
			var name_array = ["tera", "giga", "mega", "kilo", "hecto", "deca", "", "deci", "centi", "milli", "micro", "nano", "pico"];
			function set_output() {
				let re = new RegExp("([0-9]+)([a-zA-Z\_]+)([0-9])?([a-zA-Z ]*) ([a-zA-Z\_]+)([0-9])?");
				let match = document.getElementById("input_text").value.match(re);
				if (match !== null && char_array.includes(match[2]) && char_array.includes(match[5])) {
					x = match[2];
					x_power = power_array[char_array.indexOf(x)];
					x_name = name_array[char_array.indexOf(x)];
					y = match[5];
					y_power = power_array[char_array.indexOf(y)];
					y_name = name_array[char_array.indexOf(y)];
					number = match[1] * 10 ** (x_power - y_power);
					if (match[3] != undefined || match[6] != undefined) {
						document.getElementById("output").innerHTML = match[1] + x_name + "^" + match[3] + " = " + number + y_name + "^" + match[6];
					}
					else {
						document.getElementById("output").innerHTML = match[1] + x_name + " = " + number + y_name;
					}
					document.getElementById("xvalue").innerHTML = "Unit 1 (" + x_name + "): " + 10 ** x_power;
					document.getElementById("yvalue").innerHTML = "Unit 2 (" + y_name + "): " + 10 ** y_power;
				}
				else {
					document.getElementById("output").innerHTML = "";
					document.getElementById("xvalue").innerHTML = "";
					document.getElementById("yvalue").innerHTML = "";
				}
			}
			setInterval(set_output, 0);
		</script>

		<style>
		</style>

		<center style="font-size: 64px">Converter</center>
		<p style="font-size: 32;">Units: T, G, M, k, h, da, _ (1), d, c, m , u, n, p</p>
		<input type="text" id="input_text" style="font-family: Futura; font-size: 32px; text-align: center">
		<br>
		<span id="output" style="font-weight: normal; font-size: 32px;"></span>
		<br>
		<span id="xvalue" style="font-weight: normal; font-size: 32px;"></span>
		<br>
		<span id="yvalue" style="font-weight: normal; font-size: 32px;"></span>
		<br>
	</body>
</html>